# AutoLayout


___배운점과 추가로 공부해야될 부분들 정리___

# 

AutoLayout은 UI 배치규칙을 지정하는 기술이다. 그 역사는 아래와 같다. 

__Layout History__

- iPhone 3GS 
  - 320x480px, Portrait Only
- iPad 1Gen
  - 768x1024px, Add Landscape
  - iPhone 4
  - Retina Display, @2x
  - 320x480pt, 640x960px
  - 이때부터 px단위 대신에 pt단위를 사용함. @2x의 리소스만 추가로 제작해주면 됐었음.
  - 해상도는 2배로 늘어났지만, px단위가 들어와도 pt단위로 자동으로 매핑을 해줘서 괜찮았음.
- iPad 3Gen
  - Retina Display, @2x
  - 768x1024pt, 1536x2048px
  - iPhone 4와 마찬가지로 대응해주면 괜찮았음.
- iPhone 5
  - @2x, 320x568pt
  - 가로길이는 같지만 세로높이가 다르게 나옴. 
  - 높이를 코드로 계산하는 방식은 너무 구식이고, Auto resizing mask는 다양한 요구사항을 처리에는 부족. 
  - 따라서 AutoLayout이라는 기술이 도입되었음. 
  - 기존에 위치를 지정하는 방식에서 제약을 추가하는 방식으로 UI구현의 패러다임을 전환시킴. 
- iPhone 6, iPhone 6+
  - @2x, 375x667pt 
  - @3x, 414x736pt
  - 화면이 더 다양해짐. 
- iPhone X
  - @3x, 375x812pt
  - 화면이 더더 다양해짐. 
- iPad Pro 10.5", iPad Pro 12.9"
  - @2x, 834x1112pt 
  - @2x, 1024x1366pt
  - 화면이 더더더 다양해짐. 
  

__UI를 구성하는 방식__

- Frame-based Layout
  - 상위뷰의 좌표시스템에서 특정뷰의 위치크기를 나타내는 방식이다.
  - 개발자가 프레임을 직접 계산하고 설정한다.
  - 기기사이즈가 하나일때는 별 문제가 없었으나 기기가 여러개가 나올수록 계산이 너무 복잡해졌다.
  - 특히, 상위뷰의 크기가 변경될 때 하위뷰의 크기를 계산하는 방법이 너무 어려웠다. 
  - 그래서 `Auto resizing mask`라는 기술이 추가되었다. 
  - 상위뷰의 프레임이 변경될 떄 하위뷰의 프레임이 변경되는 규칙을 미리지정된 6개의 비트마스크로 지정한다.
  - 이전에 비해 프레임을 계산하는 부담은 줄었지만, 모든 문제를 해결해주지는 못했다.

# 

- Auto Layout
  - Auto Layout으로 인해서 위의 두 기술이 사라진 것은 아니다. 간혹 Auto Layout으로 해결할 수 없는 방법이 있기 떄문에 알아두어야 한다. 
  - Auto resizing mask는 여전히 UI Prototyping에 활용되고 있다.
  - Auto Layout은 UI를 구성하는 뷰의 크기와 위치를 다른 요소와의 관계를 나타내는 특별한 규칙을 통해 자동으로 계산하고 배치하는 기술이다. 
  - 이 규칙을 `제약`이라고 한다. 간단히 요약하면 Auto Layout이란 제약을 기반으로 뷰를 배치하는 기술이다. 
  - 프레임 방식에서는 개발자가 직접 프레임을 계산했지만, `개발자는 제약을 추가하고 프레임 계산은 만들어진 제약을 바탕으로 Auto Layout이 한다.`

# 

- Adaptive Layout
  - iPhone 8이 출시된 2014년에 모든 해상도와 디바이스를 대응하는 하나의 UI를 개발할 수 있도록 하고자 했다. 
  - Size Class, Trait Collection을 도입. 
  - 이전까지는 아이폰용 스토리보드와 아이패드용 스토리보드를 구분해서 개발했음, 그러나 이제 하나의 유니버셜 스토리보드에서 개발하게 됨. 
  - 개발자 입장에서는 아이폰과 아이패드를 구분해야할 필요가 사라졌고, 하드웨어에 따라 해상도를 구분하는 것이 무의미해짐. 
  - 인터페이스 방향을 Portrait와 Landscape로 구분하는 것도 옛날 방식이 되었음. 
  - 대신 Size Class를 통해 UI를 표시할 수 있는 영역의 크기를 큰틀에서 구분하고, Trait Collection를 통해 상세한 인터페이스 환경을 구분하는 방식으로 변경됨. 

